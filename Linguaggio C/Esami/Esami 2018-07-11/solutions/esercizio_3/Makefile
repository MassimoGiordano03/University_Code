EXERCISE_NUMBER=3
FILE_NAME_TEST=test_esercizio_$(EXERCISE_NUMBER)
FILE_NAME_ESERCIZIO=esercizio_$(EXERCISE_NUMBER)
FILE_NAME_CORRETTORE=correttore_esercizio_$(EXERCISE_NUMBER)

all: $(FILE_NAME_TEST)

$(FILE_NAME_TEST): $(FILE_NAME_TEST).o $(FILE_NAME_ESERCIZIO).o $(FILE_NAME_CORRETTORE).o
	g++ -o $(FILE_NAME_TEST) $(FILE_NAME_TEST).o $(FILE_NAME_ESERCIZIO).o $(FILE_NAME_CORRETTORE).o

$(FILE_NAME_TEST).o: $(FILE_NAME_TEST).c $(FILE_NAME_ESERCIZIO).h 
	g++ -c $(FILE_NAME_TEST).c

$(FILE_NAME_ESERCIZIO).o: $(FILE_NAME_ESERCIZIO).c $(FILE_NAME_ESERCIZIO).h 
	g++ -c $(FILE_NAME_ESERCIZIO).c -lm

clean:
	rm -rf $(FILE_NAME_TEST).o $(FILE_NAME_TEST) $(FILE_NAME_ESERCIZIO).o *~

